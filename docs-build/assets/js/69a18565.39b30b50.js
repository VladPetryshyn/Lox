"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[694],{2469:(e,t,s)=>{s.r(t),s.d(t,{default:()=>$});var i=s(7961),r=s(7294);class n{accept(){}}class a extends n{name;value;constructor(e,t){super(),this.name=e,this.value=t}accept(e){return e.visitAssignExpr(this)}}class h extends n{left;operator;right;constructor(e,t,s){super(),this.left=e,this.operator=t,this.right=s}accept(e){return e.visitBinaryExpr(this)}}class o extends n{expression;constructor(e){super(),this.expression=e}accept(e){return e.visitGroupingExpr(this)}}class c extends n{value;constructor(e){super(),this.value=e}accept(e){return e.visitLiteralExpr(this)}}class l extends n{name;constructor(e){super(),this.name=e}accept(e){return e.visitVariableExpr(this)}}class u extends n{left;operator;right;constructor(e,t,s){super(),this.left=e,this.operator=t,this.right=s}accept(e){return e.visitLogicalExpr(this)}}class p extends n{callee;paren;args;constructor(e,t,s){super(),this.callee=e,this.paren=t,this.args=s}accept(e){return e.visitCallExpr(this)}}class m extends n{object;name;constructor(e,t){super(),this.object=e,this.name=t}accept(e){return e.visitGetExpr(this)}}class E extends n{keyword;constructor(e){super(),this.keyword=e}accept(e){return e.visitThisExpr(this)}}class d extends n{keyword;method;constructor(e,t){super(),this.keyword=e,this.method=t}accept(e){return e.visitSuperExpr(this)}}class v extends n{object;name;value;constructor(e,t,s){super(),this.object=e,this.name=t,this.value=s}accept(e){return e.visitSetExpr(this)}}const f=e=>{const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s].toLowerCase();return Object.freeze(t)};class x{accept(e){}}class S extends x{statements;constructor(e){super(),this.statements=e}accept(e){return e.visitBlockStmt(this)}}class A extends x{expression;constructor(e){super(),this.expression=e}accept(e){return e.visitExpressionStmt(this)}}class R extends x{condition;thenBranch;elseBranch;constructor(e,t,s){super(),this.condition=e,this.thenBranch=t,this.elseBranch=s}accept(e){return e.visitIfStmt(this)}}class T extends x{expression;constructor(e){super(),this.expression=e}accept(e){return e.visitPrintStmt(this)}}class N extends x{name;initializer;constructor(e,t){super(),this.name=e,this.initializer=t}accept(e){return e.visitVarStmt(this)}}class g extends x{condition;body;constructor(e,t){super(),this.condition=e,this.body=t}accept(e){return e.visitWhileStmt(this)}}class k extends x{name;params;body;constructor(e,t,s){super(),this.name=e,this.params=t,this.body=s}accept(e){return e.visitFunctionStmt(this)}}class w extends x{name;superclass;methods;constructor(e,t,s){super(),this.name=e,this.superclass=t,this.methods=s}accept(e){return e.visitClassStmt(this)}}class I extends x{keyword;value;constructor(e,t){super(),this.keyword=e,this.value=t}accept(e){return e.visitReturnStmt(this)}}const L=f(["NONE","FUNCTION","METHOD","INITIALIZER"]),b=f(["NONE","CLASS","SUBCLASS"]);class y{interpreter=null;scopes=[];currentFunction=L.NONE;currentClass=b.NONE;locals=new Map;constructor(e){this.interpreter=e}resolve(e){if(e){if(e instanceof Array)for(const t of e)this.resolve(t);(e instanceof x||e instanceof n)&&e.accept(this)}}resolveFunction(e,t){const s=this.currentFunction;this.currentFunction=t,this.beginScope();for(const i of e.params)this.declare(i),this.define(i);this.resolve(e.body),this.endScope(),this.currentFunction=s}beginScope(){this.scopes.push(new Map)}endScope(){this.scopes.pop()}visitBlockStmt(e){this.beginScope(),this.resolve(e.statements),this.endScope()}visitClassStmt(e){const t=this.currentClass;this.currentClass=b.CLASS,this.declare(e.name),this.define(e.name),e&&e.superclass&&e.superclass.name&&e.name.lexeme===e.superclass.name.lexeme&&V.error(e.superclass.name.line,"A class can't inherit from itself"),e.superclass&&(this.currentClass=b.SUBCLASS,this.resolve(e.superclass)),e.superclass&&(this.beginScope(),this.scopes[this.scopes.length-1].set("super",!0)),this.beginScope(),this.scopes[this.scopes.length-1].set("this",!0);for(const s of e.methods){const e="init"===s.name.lexeme?L.INITIALIZER:L.METHOD;this.resolveFunction(s,e)}this.endScope(),e.superclass&&this.endScope(),this.currentClass=t}visitExpressionStmt(e){this.resolve(e.expression)}visitIfStmt(e){this.resolve(e.condition),this.resolve(e.thenBranch),e.elseBranch&&this.resolve(e.elseBranch)}visitPrintStmt(e){this.resolve(e.expression)}visitReturnStmt(e){this.currentFunction===L.NONE&&V.error(e.keyword.line,"Can't return from top-level code."),e.value&&(this.currentFunction===L.INITIALIZER&&V.error(e.keyword.line,"Can't return a value from an initializer."),this.resolve(e.value))}visitVarStmt(e){this.declare(e.name),e.initializer&&this.resolve(e.initializer),this.define(e.name)}visitWhileStmt(e){this.resolve(e.condition),this.resolve(e.body)}visitBinaryExpr(e){this.resolve(e.left),this.resolve(e.right)}visitAssignExpr(e){this.resolve(e.value),this.resolveLocal(e,e.name)}visitCallExpr(e){this.resolve(e.callee);for(const t of e.args)this.resolve(t)}visitGetExpr(e){this.resolve(e.object),e.name instanceof l&&this.resolve(e.name)}visistThisExpr(e){this.resolveLocal(e,e.keyword)}visitGroupingExpr(e){this.resolve(e.expression)}visitLiteralExpr(){}visitLogicalExpr(e){this.resolve(e.left),this.resolve(e.right)}visitSetExpr(e){this.resolve(e.value),this.resolve(e.object)}visitSuperExpr(e){this.currentClass==b.NONE?V.error(e.keyword.line,"Can't use 'super' outside of a class."):this.currentClass!=b.SUBCLASS&&V.error(e.keyword.line,"Can't use 'super' in a class with no superclass."),this.resolveLocal(e,e.keyword)}visitThisExpr(e){this.currentClass===b.NONE&&V.error(e.keyword.line,"Can't use this outside of a class."),this.resolveLocal(e,e.keyword)}visitUnaryExpr(e){this.resolve(e.right)}visitFunctionStmt(e){this.declare(e.name),this.define(e.name),this.resolveFunction(e,L.FUNCTION)}visitVariableExpr(e){this.scopes.length>0&&!1===this.scopes[this.scopes.length-1].get(e.name.lexme)&&V.error(e.name.line,"Can't read variable in its own initializer."),this.resolveLocal(e,e.name)}declare(e){if(0===this.scopes.length)return;const t=this.scopes[this.scopes.length-1];t.has(e.lexeme)&&V.error(e.line,"Already a variable with this name in this scope"),t.set(e.lexeme,!1)}define(e){0!==this.scopes.length&&this.scopes[this.scopes.length-1].set(e.lexeme,!0)}resolveLocal(e,t){for(let s=this.scopes.length-1;s>=0;s--)if(this.scopes[s].has(t.lexeme))return void this.interpreter.resolve(e,this.scopes.length-1-s)}}class C{values=new Map;enclosing=null;constructor(e){this.enclosing=e}define(e,t){if(this.values.get(e))throw new Error(`${e} Variable is already defined ${e.lexeme}`);this.values.set(e,t)}assign(e,t){const s=this.values.get(e.lexeme);if(s||s<=0)this.values.set(e.lexeme,t);else{if(!this.enclosing)throw new Error(`${e} Undefined variable, ${e.lexeme}.`);this.enclosing.assign(e,t)}}get(e){const t=this.values.get(e.lexeme);if(t||0===t)return this.values.get(e.lexeme);if(this.enclosing)return this.enclosing.get(e);throw new Error(`${e} Undefined variable, ${e.lexeme}.`)}getAt(e,t){return this.ancestor(e).values.get(t)}assignAt(e,t,s){this.ancestor(e).values.set(t.lexeme,s)}ancestor(e){let t=this;for(let s=0;s<e;s++)t=t.enclosing;return t}}class U{arity(){}call(e,t){}}class F{klass=null;fields=new Map;constructor(e){this.klass=e}toString(){return this.klass.name+" instance"}get(e){if(this.fields.has(e.lexeme))return this.fields.get(e.lexeme);const t=this.klass.findMethod(e.lexeme);if(t)return t.bind(this);throw new Error("Undefined property "+e.lexeme+".")}set(e,t){this.fields.set(e.lexeme,t)}}class O extends U{name=null;methods=new Map;superclass=null;constructor(e,t,s){super(),this.superclass=t,this.name=e,this.methods=s}toString(){return this.name}call(e,t){const s=new F(this),i=this.findMethod("init");return i&&i.bind(s).call(e,t),s}findMethod(e){return this.methods.has(e)?this.methods.get(e):this.superclass?this.superclass.findMethod(e):void 0}arity(){const e=this.findMethod("init");return e?e.arity():0}}class _ extends U{declaration=null;closure=null;isInitializer=!1;constructor(e,t,s=!1){super(),this.declaration=e,this.closure=t,this.isInitializer=s}call(e,t){const s=new C(this.closure);for(let r=0;r<this.declaration.params.length;r++)s.define(this.declaration.params[r].lexeme,t[r]);try{e.executeBlock(this.declaration.body,s)}catch(i){return this.isInitializer?closure.getAt(0,"this"):i.value}if(this.isInitializer)return this.closure.getAt(0,"this")}bind(e){const t=new C(this.closure);return t.define("this",e),new _(this.declaration,t,this.isInitializer)}arity(){return this.declaration.params.length}toString(){return"<fn "+this.declaration.name.lexeme+">"}}class B{value=null;constructor(e){this.value=e}}const M=f(["LEFT_PAREN","RIGHT_PAREN","LEFT_BRACE","RIGHT_BRACE","COMMA","DOT","MINUS","PLUS","SEMICOLON","SLASH","STAR","LEFT_BRACKET","RIGHT_BRACKET","BANG","BANG_EQUAL","EQUAL","EQUAL_EQUAL","GREATER","GREATER_EQUAL","LESS","LESS_EQUAL","IDENTIFIER","STRING","NUMBER","AND","CLASS","ELSE","FALSE","FUN","FOR","IF","NIL","OR","PRINT","RETURN","SUPER","THIS","TRUE","VAR","WHILE","EOF"]);class G extends Error{constructor(e,t){super(t),this.token=e}}class H{globals=new C;environment=this.globals;locals=new Map;constructor(){this.globals.define("clock",new class extends U{arity(){return 0}call(){return Date.now()/1e3}toString(){return"native fn"}}),this.globals.define("push",new class extends U{arity(){return 2}call(e,[t,s]){t.push(s)}toString(){return"native fn"}}),this.globals.define("pop",new class extends U{arity(){return 1}call(e,[t]){t.pop()}toString(){return"native fn"}}),this.globals.define("unshift",new class extends U{arity(){return 2}call(e,[t,s]){t.unshift(s)}toString(){return"native fn"}}),this.globals.define("shift",new class extends U{arity(){return 1}call(e,[t]){t.shift()}toString(){return"native fn"}}),this.globals.define("len",new class extends U{arity(){return 1}call(e,[t]){return t.length}toString(){return"native fn"}})}visitLiteralExpr({value:e}){if(e instanceof Array)for(const t in e)e[t]=this.evaluate(e[t]);return e}visitGroupingExpr(e){return this.evaluate(e.expression)}evaluate(e){if(e)return e.accept(this)}visitUnaryExpr(e){const t=this.evaluate(e.right);switch(e.operator.type){case M.BANG:return!this.isTruthy(t);case M.MINUS:return-t;case M.PLUS:return+t}return null}visitVariableExpr(e){return this.lookUpVariable(e.name,e)}lookUpVariable(e,t){const s=this.locals.get(t);return s||0===s?this.environment.getAt(s,e.lexeme):this.globals.get(e)}visitBinaryExpr(e){const t=this.evaluate(e.left),s=this.evaluate(e.right);switch(e.operator.type){case M.MINUS:return Number(t)-Number(s);case M.STAR:return Number(t)*Number(s);case M.SLASH:return Number(t)/Number(s);case M.PLUS:return t+s;case M.GREATER:return Number(t)>Number(s);case M.GREATER_EQUAL:return Number(t)>=Number(s);case M.LESS:return Number(t)<Number(s);case M.LESS_EQUAL:return Number(t)<=Number(s);case M.BANG_EQUAL:return!this.isEqual(t,s);case M.EQUAL_EQUAL:return this.isEqual(t,s)}return null}visitCallExpr(e){const t=this.evaluate(e.callee),s=[];for(const i of e.args)s.push(this.evaluate(i));if(!(t instanceof U))throw new G(e.paren,"Can only call functions and classes.");if(s.length!==t.arity())throw new G(e.paren,`Expected ${t.arity()} arguments but got ${s.length}.`);return t.call(this,s)}visitGetExpr(e){const t=this.evaluate(e.object);if(t instanceof Array){if("identifier"===e.name.name.type){return t[this.visitVariableExpr(e.name)]}return t[e.name.value]}if(t instanceof F)return t.get(e.name);throw new G("Only instances have properties")}isTruthy(e){return!!e}isEqual(e,t){return e===t}interpret(e){try{for(const t of e)this.execute(t)}catch(t){V.runtimeError(t)}}visitExpressionStmt(e){this.evaluate(e.expression)}visitFunctionStmt(e){const t=new _(e,this.environment);this.environment.define(e.name.lexeme,t)}visitVarStmt(e){null!=e.initializer&&this.environment.define(e.name.lexeme,this.evaluate(e.initializer))}visitAssignExpr(e){const t=this.evaluate(e.value),s=this.locals.get(e);return s||0===s?this.environment.assignAt(s,e.name,t):this.globals.assign(e.name,t),t}visitBlockStmt(e){this.executeBlock(e.statements,new C(this.environment))}visitClassStmt(e){let t=null;if(e.superclass&&(t=this.evaluate(e.superclass),!(t instanceof O)))throw new G("Superclass must be a class");this.environment.define(e.name.lexeme,null),e.superclass&&(this.environment=new C(this.environment),this.environment.define("super",t));const s=new Map;for(const r of e.methods){const e=new _(r,this.environment,"init"===r.name.lexeme);s.set(r.name.lexeme,e)}const i=new O(e.name.lexeme,t,s);t&&(this.environment=this.environment.enclosing),this.environment.assign(e.name,i)}visitIfStmt(e){this.isTruthy(this.evaluate(e.condition))?this.execute(e.thenBranch):e.elseBranch&&this.execute(e.elseBranch)}visitLogicalExpr(e){const t=this.evaluate(e.left);if(e.operator.type===M.OR){if(this.isTruthy(t))return t}else if(!this.isTruthy(t))return t;return this.evaluate(e.right)}visitSetExpr(e){const t=this.evaluate(e.object),s=this.evaluate(e.value);if(t instanceof Array)return t[e.name.value]=s,s;if(!(t instanceof F))throw new G("Only instances have fields");return t.set(e.name,s),s}visitSuperExpr(e){let t=this.locals.get(e);const s=this.environment.getAt(t,"super"),i=this.environment.getAt(t-1,"this"),r=s.findMethod(e.method.lexeme);if(!r)throw new G("Undefined property");return r.bind(i)}visitThisExpr(e){return this.lookUpVariable(e.keyword,e)}visitWhileStmt(e){for(;this.isTruthy(this.evaluate(e.condition));)this.execute(e.body)}visitPrintStmt(e){const t=this.evaluate(e.expression);console.log(t)}visitReturnStmt(e){let t=null;throw e.value&&(t=this.evaluate(e.value)),new B(t)}execute(e){e.accept(this)}resolve(e,t){this.locals.set(e,t)}executeBlock(e,t){const s=this.environment;try{this.environment=t;for(const t of e)this.execute(t)}finally{this.environment=s}}}class P{tokens=[];current=0;constructor(e){this.tokens=e}expression(){return this.assignment()}assignment(){const e=this.or();if(this.match(M.EQUAL)){const t=this.previous(),s=this.assignment();if(e instanceof l){const t=e.name;return new a(t,s)}if(e instanceof m){const t=e;return new v(t.object,t.name,s)}this.error(t.line,"Invalid assignment target.")}return e}or(){let e=this.and();for(;this.match(M.OR);){const t=this.previous(),s=this.and();e=new u(e,t,s)}return e}and(){let e=this.equality();for(;this.match(M.AND);){const t=this.previous(),s=this.equality();e=new u(e,t,s)}return e}equality(){let e=this.comparison();for(;this.match(M.BANG_EQUAL,M.BANG_EQUAL_EQUAL);){const t=this.previous(),s=this.comparison();e=new h(e,t,s)}return e}match(...e){for(const t of e)if(this.check(t))return this.advance(),!0;return!1}check(...e){if(this.isAtEnd())return!1;for(const t of e)if(this.peek().type===t)return!0;return!1}advance(){return this.isAtEnd()||this.current++,this.previous()}isAtEnd(){return this.peek().type===M.EOF}peek(){return this.tokens[this.current]}next(){return this.tokens[this.current+1]}previous(){return this.tokens[this.current-1]}comparison(){let e=this.term();for(;this.match(M.GREATER,M.GREATER_EQUAL,M.LESS,M.LESS_EQUAL);){const t=this.previous(),s=this.term();e=new h(e,t,s)}return e}term(){let e=this.factor();for(;this.match(M.MINUS,M.PLUS);){const t=this.previous(),s=this.factor();e=new h(e,t,s)}return e}factor(){let e=this.unary();for(;this.match(M.STAR,M.SLASH);){const t=this.previous(),s=this.unary();e=new h(e,t,s)}return e}unary(){if(this.match(M.BANG,M.MINUS)){const e=this.previous(),t=this.unary();return new Unary(e,t)}return this.call()}finishCall(e){const t=[];if(!this.check(M.RIGHT_PAREN))do{t.length>100&&this.error(this.peek().line,"Can't have more than 100 arguments."),t.push(this.expression())}while(this.match(M.COMMA));const s=this.consume(M.RIGHT_PAREN,"Expect ')' after arguments.");return new p(e,s,t)}call(){let e=this.primary();for(;;){if(this.match(M.LEFT_BRACKET)){const t=this.arrayStmt();if(1!==t.length)throw this.error(this.peek().line,"1");return new m(e,t[0])}if(this.match(M.LEFT_PAREN))e=this.finishCall(e);else{if(!this.match(M.DOT))break;{const t=this.consume(M.IDENTIFIER,"Expect property name after '.'.");e=new m(e,t)}}}return e}primary(){if(this.match(M.FALSE))return new c(!1);if(this.match(M.TRUE))return new c(!0);if(this.match(M.NIL))return new c(null);if(this.match(M.NUMBER,M.STRING))return new c(this.previous().literal);if(this.match(M.SUPER)){const e=this.previous();this.consume(M.DOT,"Expect '.' after 'super'.");const t=this.consume(M.IDENTIFIER,"Expect superclass method name.");return new d(e,t)}if(this.match(M.THIS))return new E(this.previous());if(this.match(M.LEFT_BRACKET)){const e=this.arrayStmt();return new c(e)}if(this.match(M.IDENTIFIER))return new l(this.previous());if(this.match(M.LEFT_PAREN)){const e=this.expression();return this.consume(M.RIGHT_PAREN,"Expect ')' after expression."),new o(e)}throw this.error(this.peek().line,"Expect expression.")}consume(e,t){if(this.check(e))return this.advance();throw this.error(this.peek().line,t)}error(e,t){return V.error(e,t),new Error}synchronize(){for(this.advance();!this.isAtEnd();){if(this.previous().type==M.SEMICOLON)return;switch(this.peek().type){case M.CLASS:case M.FUN:case M.VAR:case M.FOR:case M.IF:case M.WHILE:case M.PRINT:case M.RETURN:return}this.advance()}}parse(){const e=[];for(;!this.isAtEnd();)e.push(this.declaration());return e}statement(){return this.match(M.RETURN)?this.returnStatement():this.match(M.FOR)?this.forStatement():this.match(M.IF)?this.ifStatement():this.match(M.PRINT)?this.printStatement():this.match(M.WHILE)?this.whileStatement():this.match(M.LEFT_BRACE)?new S(this.block()):this.expressionStatement()}printStatement(){const e=this.expression();return this.consume(M.SEMICOLON,"Expect ; after value."),new T(e)}returnStatement(){const e=this.previous();let t=null;return this.check(M.SEMICOLON)||(t=this.expression()),this.consume(M.SEMICOLON,"Expect ';' after return value."),new I(e,t)}whileStatement(){this.consume(M.LEFT_PAREN,"Expect '(' after 'while'");const e=this.expression();this.consume(M.RIGHT_PAREN,"Expect '(' after condition");const t=this.statement();return new g(e,t)}forStatement(){let e;this.consume(M.LEFT_PAREN,"Expect '(' after for"),e=this.match(M.SEMICOLON)?null:this.match(M.VAR)?this.varDeclaration():this.expressionStatement();let t=null;this.check(M.SEMICOLON)||(t=this.expression()),this.consume(M.SEMICOLON,"Expect ; after loop condition.");let s=null;this.check(M.RIGHT_PAREN)||(s=this.expression()),this.consume(M.RIGHT_PAREN,"Expect ')' after for clauses.");let i=this.statement();return s&&(i=new S([i,new A(s)])),t||(t=new c(!0)),i=new g(t,i),e&&(i=new S([e,i])),i}varDeclaration(){const e=this.consume(M.IDENTIFIER,"Expect variable name");let t=null;return this.match(M.EQUAL)&&(t=this.expression()),this.consume(M.SEMICOLON,"Expect ; after variable declaration"),new N(e,t)}arrayStmt(){const e=[];for(;this.check(M.STRING,M.NUMBER,M.IDENTIFIER,M.LEFT_BRACKET,M.COMMA);)if(!this.match(M.COMMA)){const t=this.primary();e.push(t)}return this.consume(M.RIGHT_BRACKET,"Expect ] after array."),e}expressionStatement(){const e=this.expression();return this.consume(M.SEMICOLON,"Expect ; after expression."),new A(e)}func(e){const t=this.consume(M.IDENTIFIER,"Expect "+e+" name.");this.consume(M.LEFT_PAREN,"Expect '(' after "+e+" name.");const s=[];if(!this.check(M.RIGHT_PAREN))do{s.length>100&&this.error(this.peek().line,"Can't have more than 100 parameters."),s.push(this.consume(M.IDENTIFIER,"Expect parameter name."))}while(this.match(M.COMMA));this.consume(M.RIGHT_PAREN,"Expect ')' after parameters."),this.consume(M.LEFT_BRACE,`Expect '{' before ${e} body`);const i=this.block();return new k(t,s,i)}block(){const e=[];for(;!this.check(M.RIGHT_BRACE)&&!this.isAtEnd();){const t=this.declaration();e.push(t)}return this.consume(M.RIGHT_BRACE,"Expect } after block."),e}declaration(){try{return this.match(M.CLASS)?this.classDeclaration():this.match(M.FUN)?this.func("function"):this.match(M.VAR)?this.varDeclaration():this.statement()}catch(e){return this.synchronize(),null}}classDeclaration(){const e=this.consume(M.IDENTIFIER,"Expect class name");let t=null;this.match(M.LESS)&&(this.consume(M.IDENTIFIER,"Expect superclass name."),t=new l(this.previous())),this.consume(M.LEFT_BRACE,"Expect '{' before class body.");const s=[];for(;!this.check(M.RIGHT_BRACE)&&!this.isAtEnd();)s.push(this.func("method"));return this.consume(M.RIGHT_BRACE,"Expect '}' after class body."),new w(e,t,s)}ifStatement(){this.consume(M.LEFT_PAREN,"Expect '(' after 'if'");const e=this.expression();this.consume(M.RIGHT_PAREN,"Expect ')' after if condition");const t=this.statement();let s=null;return this.match(M.ELSE)&&(s=this.statement()),new R(e,t,s)}}class D{constructor(e,t,s,i){this.type=e,this.lexeme=t,this.literal=s,this.line=i}toString(){return`${this.type} ${this.lexeme} ${this.literal}`}}const Q=Object.freeze({and:M.AND,class:M.CLASS,else:M.ELSE,false:M.FALSE,true:M.TRUE,for:M.FOR,if:M.IF,fun:M.FUN,nil:M.NIL,print:M.PRINT,return:M.RETURN,super:M.SUPER,this:M.THIS,var:M.VAR,while:M.WHILE,or:M.OR});class z{source="";tokens=[];line=1;start=0;current=0;constructor(e){this.source=e}scanTokens(){for(;!this.isAtEnd();)this.start=this.current,this.scanToken();return this.tokens.push(new D(M.EOF,"",null,this.line)),this.tokens}isAtEnd(){return this.current>=this.source.length}scanToken(){const e=this.advance();switch(e){case"(":this.addToken(M.LEFT_PAREN);break;case")":this.addToken(M.RIGHT_PAREN);break;case"{":this.addToken(M.LEFT_BRACE);break;case"}":this.addToken(M.RIGHT_BRACE);break;case"[":this.addToken(M.LEFT_BRACKET);break;case"]":this.addToken(M.RIGHT_BRACKET);break;case",":this.addToken(M.COMMA);break;case".":this.addToken(M.DOT);break;case"-":this.addToken(M.MINUS);break;case"+":this.addToken(M.PLUS);break;case";":this.addToken(M.SEMICOLON);break;case"*":this.addToken(M.STAR);break;case"!":this.addToken(this.match("=")?M.BANG_EQUAL:M.BANG);break;case"=":this.addToken(this.match("=")?M.EQUAL_EQUAL:M.EQUAL);break;case"<":this.addToken(this.match("=")?M.LESS_EQUAL:M.LESS);break;case">":this.addToken(this.match("=")?M.GREATER_EQUAL:M.GREATER);break;case"/":if(this.match("/"))for(;"\n"!=this.peek()&&!this.isAtEnd();)this.advance();else this.match("*")?this.multilineComment():this.addToken(M.SLASH);break;case" ":case"\r":case"\t":break;case"\n":this.line++;break;case'"':this.string();break;default:isNaN(e)?this.isAlphaNumeric(e)?this.identifier():V.error(this.line,"Unexpected character"):this.number()}}advance(){return this.source[this.current++]}addToken(e,t){const s=this.source.substring(this.start,this.current);this.tokens.push(new D(e,s,t,this.line))}match(e){return!this.isAtEnd()&&(this.source[this.current]===e&&(this.current++,!0))}peek(){return this.isAtEnd()?"\0":this.source[this.current]}string(){for(;'"'!==this.peek()&&!this.isAtEnd();)"\n"==this.peek()&&this.line++,this.advance();if(this.isAtEnd())throw V.error(this.line,"Unterminated string");this.advance(),this.addToken(M.STRING,this.source.substring(this.start+1,this.current-1))}number(){for(;!isNaN(this.peek());)this.advance();if("."==this.peek()&&!isNaN(this.peekNext()))for(this.advance();!isNaN(this.peek());)this.advance();this.addToken(M.NUMBER,Number(this.source.substring(this.start,this.current)))}peekNext(){return this.current+1>=this.source.length?"\0":this.source[this.current+1]}isAlphaNumeric(e){let t,s,i;for(s=0,i=e.length;s<i;s++)if(t=e.charCodeAt(s),!(t>47&&t<58||t>64&&t<91||t>96&&t<123))return!1;return!0}identifier(){for(;this.isAlphaNumeric(this.peek());)this.advance();const e=this.source.substring(this.start,this.current);let t=Q[e];t||(t=M.IDENTIFIER),this.addToken(t)}multilineComment(){let e=1;for(;!this.isAtEnd();){const t=this.advance();if("*"===t&&this.match("/")&&e--,"/"===t&&this.match("*")&&e++,0===e)break}e>0&&console.log("Error, unterminated comment")}}const V=new class{hadError=!1;hadRuntimeError=!1;interpreter=new H;run(e){const t=new z(e).scanTokens(),s=new P(t).parse();if(this.hadRuntimeError&&process.exit(70),this.hadError)return;new y(this.interpreter).resolve(s),this.interpreter.interpret(s)}error(e,t){this.report(e,"",t)}report(e,t,s){console.error(`[${e}] Error ${t}: ${s}`),this.hadError=!0}runtimeError(e){console.error(e.message+"\n[line "+e.token.line+"]"),this.hadRuntimeError=!0}},$=()=>(V.run('print "Hello World";'),r.createElement(i.Z,null))}}]);